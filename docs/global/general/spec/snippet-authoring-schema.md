---
id: general/spec/snippet-authoring-schema
type: spec
scope: global
description: Schema and section requirements for documentation snippets belonging to a taxonomy.
---

# Snippet Authoring Schema — Spec

## What it is

Defines the required structure, section headings, and directory layout for documentation snippets.

## Canonical fields

Frontmatter (required for all snippets):

- `id` — unique snippet identifier.
- `type` — taxonomy type (see table below).
- `scope` — `global`, `domain`, or `project`.
- `description` — short summary of the snippet's purpose.

Document structure:

- H1 title with type suffix (e.g., `# Session Lifecycle — Design`).
- `## Required reads` — immediately after H1, with inline `@` references for hard dependencies. These are expanded (inlined) at build time.
- Required H2 sections per taxonomy (see table below).
- `## Sources` — required for third-party docs, with web links or Context7 snippet IDs.
- `## See also` — optional soft references (not inlined at build time).

### Required H2 sections per taxonomy

| Taxonomy  | Required sections                                                 |
| --------- | ----------------------------------------------------------------- |
| principle | Principle, Rationale, Implications, Tensions                      |
| concept   | What, Why                                                         |
| policy    | Rules, Rationale, Scope, Enforcement, Exceptions                  |
| procedure | Goal, Preconditions, Steps, Outputs, Recovery                     |
| design    | Purpose, Inputs/Outputs, Invariants, Primary flows, Failure modes |
| spec      | What it is, Canonical fields, Allowed values, Known caveats       |

Procedure sections may also include optional: `Pre-completion checklist`, `Report format`.

Design snippets should include Mermaid diagrams where visual representation aids understanding. Use flowcharts for data flow, sequence diagrams for interactions, and class diagrams for structural relationships.

### Directory layout

- `docs/global/baseline.md` — baseline manifest (curated required reads).
- `docs/global/general/{taxonomy}/` — on-demand cross-domain documentation.
- `docs/global/{domain}/{taxonomy}/` — domain-specific (e.g., `software-development`).
- `docs/project/{taxonomy}/` — project-scoped documentation.
- `docs/project/baseline.md` — project baseline manifest (curated required reads).

Global snippets are distributed to `~/.teleclaude/docs/` and available to all projects. Project snippets stay local to their repository.

## Allowed values

- `type`: principle, concept, policy, procedure, design, spec (canonical list in `teleclaude/constants.py:TAXONOMY_TYPES`).
- `scope`: global, domain, project.

## Known caveats

- Baseline manifests contain only `@` references and do not use frontmatter or H1 sections.
- Section headings must match the schema exactly; extra headings are invalid.
- `docs/index.yaml` is auto-generated by `telec sync` — never hand-edit it.
