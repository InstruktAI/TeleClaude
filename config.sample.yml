computer:
  name: Mac # Unique computer identifier for multi-computer MCP communication
  user: { USER } # System user running the daemon (interpolated during make init)
  role: development # Computer role: development, production, testing, api-server, etc. (shown in MCP computer list)
  bot_username: teleclaude_mac_bot # Bot username for computer registry (must match TELEGRAM_BOT_USERNAME)
  is_master: false # Master computer advertises full command list in Telegram autocomplete. Set to true on ONE computer only to avoid duplicates. All computers still handle all commands.
  default_working_dir: ${WORKING_DIR}
  help_desk_dir: ${HOME}/.teleclaude/help-desk # Jailed-session working directory for unauthorized/missing-role requests
  timezone: Europe/Amsterdam # Timezone for timestamps (default: Europe/Amsterdam)
  host: null # Optional hostname/IP for SSH remote execution (null = local computer)
  # tmux binary is resolved internally by platform policy:
  # macOS: ~/Applications/TmuxLauncher.app/... ; other Unix: tmux
  # Trusted directories with metadata for AI understanding
  # Format: { name: "identifier", desc: "purpose description", path: "/absolute/path" }
  # Note: default_working_dir is automatically included with desc "TeleClaude folder"
  trusted_dirs:
    - name: documents
      desc: personal documents
      path: ${HOME}/Documents
    - name: projects
      desc: coding projects
      path: ${HOME}/Projects

database:
  path: ${WORKING_DIR}/teleclaude.db

polling:
  directory_check_interval: 5
  output_cadence_s: 1.0 # Output update cadence target (seconds)

telegram:
  # Whitelist of trusted bots (security for AI-to-AI communication)
  trusted_bots:
    - teleclaude_mac_bot
    - teleclaude_workstation_bot
    - teleclaude_server_bot
    # Add other computer bot usernames here
  # Output QoS: pacing and coalescing to prevent Telegram flood-control churn
  qos:
    enabled: true           # Enable output QoS scheduler for Telegram
    group_mpm: 20           # Telegram group message-per-minute limit
    output_budget_ratio: 0.8  # Fraction of group_mpm reserved for output updates
    reserve_mpm: 4          # Additional mpm reserve for non-output messages
    min_session_tick_s: 3.0  # Minimum seconds between dispatches for the same session
    active_emitter_window_s: 10.0  # Seconds a session remains "active" after last dispatch
    active_emitter_ema_alpha: 0.2  # EMA smoothing factor for active session count
    rounding_ms: 100        # Cadence rounding granularity in milliseconds

discord:
  enabled: false
  # Bot token. Prefer environment interpolation to avoid plaintext secrets.
  token: ${DISCORD_BOT_TOKEN}
  # Guild (server) ID.
  guild_id: ${DISCORD_GUILD_ID}
  # All channel/category IDs below are auto-provisioned on startup.
  # The bot creates the full structure (categories, forums, text channels)
  # and persists IDs here. Do not edit manually.
  # Output QoS: coalescing mode (no hard cap; Discord library handles transport RL)
  qos:
    mode: coalesce_only     # "off" | "coalesce_only" | "strict"

# Agent binaries are resolved internally by platform policy:
# macOS: ~/Applications/{Claude,Gemini,Codex}Launcher.app/...
# other Unix: claude, gemini, codex

# WhatsApp Configuration
whatsapp:
  enabled: false
  phone_number_id: ${WHATSAPP_PHONE_NUMBER_ID}
  access_token: ${WHATSAPP_ACCESS_TOKEN}
  webhook_secret: ${WHATSAPP_WEBHOOK_SECRET}
  verify_token: ${WHATSAPP_VERIFY_TOKEN}
  api_version: v21.0
  template_name: ${WHATSAPP_TEMPLATE_NAME}
  template_language: en_US

# Redis Configuration (for AI-to-AI communication)
redis:
  enabled: true # Enable Redis adapter for cross-computer messaging
  url: redis://redis.srv.instrukt.ai:6379
  password: ${REDIS_PASSWORD} # Set in .env

# UI Configuration (TUI display settings)
ui:
  animations_enabled: true # Enable banner/logo animations
  animations_periodic_interval: 60 # Seconds between periodic animations
  animations_subset: [] # Empty list = all animations. Specify names to filter (e.g., ["FullSpectrumCycle", "LetterWave"])
  # Preview/pane theming modes:
  #   - full: vivid terminal palette with explicit contrast fg and pane tinting (legacy alias for agent_plus)
  #   - semi: agent-aware tinted highlights while preserving native terminal foreground (legacy alias for agent)
  #   - highlight: highlight-only preview treatment; native terminal foreground
  #   - highlight2: two-cell highlight-only treatment
  #   - agent: theme agent colors for pane foregrounds
  #   - agent_plus: agent colors + stronger accent treatment
  #   - off: pure native terminal rendering with muted/normal bg only
  pane_theming_mode: full

# Agent dispatch guidance (optional machine-level guidance for the orchestrator AI)
agents:
  claude:
    enabled: true
    strengths: "Superior reasoning, complex architecture, and deep technical investigation. Best for ambiguous tasks requiring high autonomy."
    avoid: "Extremely large file reads that exceed context limits; repetitive mechanical edits without prior planning."
  gemini:
    enabled: true
    strengths: "Large-scale codebase analysis, multimodal context, and rapid information synthesis across many files. Best for massive context windows."
    avoid: "Surgical precision edits in highly fragile files where reasoning must be strictly constrained."
  codex:
    enabled: true
    strengths: "High-speed code generation, refactoring, and following established patterns. Best for well-defined implementation tasks."
    avoid: "Broad architectural planning or high-level strategic decisions."

# Speech-to-Text Configuration
stt:
  enabled: true
  service_priority:
    - parakeet # Local MLX (free, private, fast on Apple Silicon)
    - openai # Cloud Whisper API (fallback)
  services:
    parakeet:
      enabled: true
      # HuggingFace repo id or absolute path to a compatible MLX model directory.
      # Example local path:
      # ${HOME}/.cache/lm-studio/models/mlx-community/parakeet-tdt-0.6b-v3
      model: mlx-community/parakeet-tdt-0.6b-v3
    openai:
      enabled: true

# Text-to-Speech Configuration
tts:
  enabled: true
  service_priority:
    - voxcpm # Local MLX, greate voice quality. Size in mem:
    - qwen3 # Local MLX, fun to test as has weird voices
    - openai
    - elevenlabs
    - macos
    - pyttsx3
  events:
    session_start:
      enabled: true
  services:
    voxcpm:
      enabled: true
      # Optional: local model path or HF repo id.
      # Example local path:
      # ${HOME}/.cache/lm-studio/models/mlx-community/voxcpm1.5
      model: mlx-community/voxcpm1.5
      params:
        temperature: 0.5
        speed: 1.1
        cfg_scale: 3.0
        ddpm_steps: 15
      voices:
        - name: narrator
          params:
            temperature: 0.1
            speed: 0.9
        - name: reporter
          params:
            temperature: 0.1
            speed: 1.1
        - name: excited
          params:
            temperature: 0.1
            speed: 1.2
    kokoro:
      enabled: true
      model: mlx-community/Kokoro-82M-bf16
      voices:
        - name: adam
          voice_id: am_adam
        - name: echo
          voice_id: am_echo
        - name: eric
          voice_id: am_eric
        - name: fenrir
          voice_id: am_fenrir
        - name: liam
          voice_id: am_liam
        - name: michael
          voice_id: am_michael
        - name: onyx
          voice_id: am_onyx
        - name: puck
          voice_id: am_puck
        - name: alloy
          voice_id: af_alloy
        - name: aoede
          voice_id: af_aoede
        - name: bella
          voice_id: af_bella
        - name: heart
          voice_id: af_heart
        - name: jessica
          voice_id: af_jessica
        - name: kore
          voice_id: af_kore
        - name: nicole
          voice_id: af_nicole
        - name: nova
          voice_id: af_nova
        - name: river
          voice_id: af_river
        - name: sarah
          voice_id: af_sarah
        - name: sky
          voice_id: af_sky
        - name: alice
          voice_id: bf_alice
        - name: emma
          voice_id: bf_emma
        - name: isabella
          voice_id: bf_isabella
        - name: lily
          voice_id: bf_lily
        - name: daniel
          voice_id: bm_daniel
        - name: fable
          voice_id: bm_fable
        - name: george
          voice_id: bm_george
        - name: lewis
          voice_id: bm_lewis
    qwen3:
      enabled: true
      model: mlx-community/Qwen3-TTS-12Hz-1.7B-CustomVoice-8bit
      voices:
        - name: serena
        # - name: vivian
        - name: uncle_fu
        # - name: ryan
        - name: aiden
        - name: sohee
        - name: eric
        - name: dylan
    elevenlabs:
      enabled: true
      voices:
        - name: Rachel
          voice_id: 21m00Tcm4TlvDq8ikWAM
        - name: George
          voice_id: JBFqnCBsd6RMkjVDRZzb
        - name: Matilda
          voice_id: XrExE9yKIg1WjnnlVkGX
        - name: Adam
          voice_id: pNInz6obpgDQGcFmaJgB
        - name: Charlotte
          voice_id: XB0fDUnXU5powFXDhCwa
        - name: Brian
          voice_id: nPczCjzI2devNBz1zQrb
        - name: Dorothy
          voice_id: ThT5KcBeYPX3keUQqHPh
        - name: Charlie
          voice_id: IKne3meq5aSn9XLyUdCD
        - name: James
          voice_id: ZQe5CZNOzWyzPSCn5a3c
        - name: Lily
          voice_id: pFZP5JQG7iQjIQuC4Bku
        - name: Antoni
          voice_id: ErXwobaYiN019PkySvjV
        - name: Grace
          voice_id: oWAxZDx7w5VEj9dCyTzz
    openai:
      enabled: true
      voices:
        - name: alloy
        - name: echo
        - name: fable
        - name: nova
        - name: onyx
        - name: shimmer
    macos:
      enabled: true
      voices:
        - name: 'Samantha (Enhanced)'
        - name: 'Daniel (Enhanced)'
        - name: 'Ava (Premium)'
        - name: 'Nathan (Enhanced)'
        - name: 'Serena (Premium)'
        - name: 'Tom (Enhanced)'
        - name: 'Moira (Enhanced)'
        - name: 'Karen (Premium)'
        - name: 'Oliver (Enhanced)'
        - name: 'Jamie (Premium)'
        - name: 'Rishi (Enhanced)'
        - name: 'Zoe (Premium)'
    pyttsx3:
      enabled: true
      voices: []
