computer:
    name: Mac  # Unique computer identifier for multi-computer MCP communication
    role: development  # Computer role: development, production, testing, api-server, etc. (shown in MCP computer list)
    bot_username: teleclaude_mac_bot  # Bot username for computer registry (must match TELEGRAM_BOT_USERNAME)
    is_master: false  # Master computer advertises full command list in Telegram autocomplete. Set to true on ONE computer only to avoid duplicates. All computers still handle all commands.
    default_shell: /bin/zsh
    default_working_dir: ${WORKING_DIR}
    timezone: Europe/Amsterdam  # Timezone for timestamps (default: Europe/Amsterdam)
    trusted_dirs:
        - ${WORKING_DIR}
        - ${HOME}/Documents
        - ${HOME}/Projects

database:
    path: ${WORKING_DIR}/teleclaude.db

terminal:
    default_size: 56x20
    sizes:
        small: 56x20 # mobile
        medium: 120x40 # tablet
        large: 180x60 # desktop

recording:
    enabled: true
    rotation_interval_seconds: 60

polling:
    idle_notification_seconds: 60 # Send notification if no output change for this many seconds (informational only, keeps polling)
    directory_check_interval: 5 # Check for directory changes every N seconds (0 to disable, default: 5)
    lpoll_extensions: [] # Extend built-in list of long-running interactive processes
    # Examples: ["my-repl", "watch", "docker logs -f"]
    # Built-in list includes: claude, vim, vi, nvim, nano, emacs, top, htop, less, more, python, node, etc.

sessions:
    max_total: 100
    warn_at: 50

uploads:
    directory: ${WORKING_DIR}/uploads
    max_file_size_mb: 50
    append_timestamp_on_duplicate: true

logging:
    max_size_mb: 10
    level: INFO

telegram:
    # Whitelist of trusted bots (security for AI-to-AI communication)
    trusted_bots:
        - teleclaude_mac_bot
        - teleclaude_workstation_bot
        - teleclaude_server_bot
        # Add other computer bot usernames here

mcp:
    enabled: true  # Enable MCP server for multi-computer communication

    # Transport type: 'stdio' for Claude Code integration
    transport: stdio

    # Socket path if using socket transport (not used for stdio)
    socket_path: /tmp/teleclaude.sock

    # Command to start Claude Code (for /claude_resume in AI-to-AI sessions)
    claude_command: claude  # Or: cd ~/project && claude

# Redis Configuration (for AI-to-AI communication)
redis:
    enabled: true  # Enable Redis adapter for cross-computer messaging

    # Redis connection URL
    url: redis://redis.srv.instrukt.ai:6379

    # Optional password (set in .env as REDIS_PASSWORD)
    password: ${REDIS_PASSWORD}

    # Connection pool settings
    max_connections: 10
    socket_timeout: 5

    # Stream settings
    message_stream_maxlen: 10000  # Max messages to keep per computer
    output_stream_maxlen: 10000   # Max output messages per session
    output_stream_ttl: 3600       # Auto-expire output streams after 1 hour

# REST API Configuration
rest_api:
    enabled: true  # Enable REST API for HTTP-based communication
    bind_address: "127.0.0.1"  # Bind to localhost only (not accessible from network)
    port: 6666