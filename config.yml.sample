computer:
    name: Mac  # Unique computer identifier for multi-computer MCP communication
    user: {USER}  # System user running the daemon (interpolated during make init)
    role: development  # Computer role: development, production, testing, api-server, etc. (shown in MCP computer list)
    bot_username: teleclaude_mac_bot  # Bot username for computer registry (must match TELEGRAM_BOT_USERNAME)
    is_master: false  # Master computer advertises full command list in Telegram autocomplete. Set to true on ONE computer only to avoid duplicates. All computers still handle all commands.
    default_working_dir: ${WORKING_DIR}
    timezone: Europe/Amsterdam  # Timezone for timestamps (default: Europe/Amsterdam)
    host: null  # Optional hostname/IP for SSH remote execution (null = local computer)

    # Trusted directories with metadata for AI understanding
    # Format: { name: "identifier", desc: "purpose description", path: "/absolute/path" }
    # Note: default_working_dir is automatically included with desc "TeleClaude folder"
    trusted_dirs:
        - name: documents
          desc: personal documents
          path: ${HOME}/Documents
        - name: projects
          desc: coding projects
          path: ${HOME}/Projects
        # Old format (list of strings) still supported for backward compatibility:
        # - ${HOME}/Documents
        # - ${HOME}/Projects

database:
    path: ${WORKING_DIR}/teleclaude.db

polling:
    idle_notification_seconds: 60 # Send notification if no output change for this many seconds (informational only, keeps polling)
    directory_check_interval: 5 # Check for directory changes every N seconds (0 to disable, default: 5)

telegram:
    # Whitelist of trusted bots (security for AI-to-AI communication)
    trusted_bots:
        - teleclaude_mac_bot
        - teleclaude_workstation_bot
        - teleclaude_server_bot
        # Add other computer bot usernames here

mcp:
    enabled: true  # Enable MCP server (Claude Code connects via socat)
    socket_path: /tmp/teleclaude.sock
    claude_command: |
      claude --dangerously-skip-permissions --settings '{"forceLoginMethod": "claudeai"}'

# Redis Configuration (for AI-to-AI communication)
redis:
    enabled: true  # Enable Redis adapter for cross-computer messaging

    # Redis connection URL
    url: redis://redis.srv.instrukt.ai:6379

    # Optional password (set in .env as REDIS_PASSWORD)
    password: ${REDIS_PASSWORD}

    # Connection pool settings
    max_connections: 10
    socket_timeout: 5

    # Stream settings
    message_stream_maxlen: 10000  # Max messages to keep per computer
    output_stream_maxlen: 10000   # Max output messages per session
    output_stream_ttl: 3600       # Auto-expire output streams after 1 hour